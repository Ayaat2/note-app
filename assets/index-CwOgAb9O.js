(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const O=document.querySelector(".menu-toggle-mobile"),g=document.querySelector(".sidebar"),A=document.querySelector(".close-sidebar-mobile"),C=document.querySelector("#showAddNoteBtn"),a=document.querySelector("#addNoteSection"),p=document.querySelector(".note-content-wrapper"),D=document.querySelector(".show-notes"),d=document.querySelector(".notes-lists"),S=document.querySelector("#addNoteFloatingBtn"),b=document.querySelector("#title"),N=document.querySelector("#author"),w=document.querySelector("#yourNote"),I=document.querySelector(".pinned"),P=document.querySelector(".notes"),$=document.querySelector("#addNoteBtn"),x=document.querySelector("#addPinnedBtn"),c=document.querySelector(".note-body"),T=document.querySelector(".input-search"),q=document.querySelector(".input-search-mobile"),f=document.querySelector(".search-toggle-mobile"),y=document.querySelector(".search-bar-mobile"),v=document.querySelector(".resizer");function F(e){const t=e.isPinne?"pinnedNotes":"regularNotes",n=JSON.parse(localStorage.getItem(t))||[];n.push(e),localStorage.setItem(t,JSON.stringify(n))}function M(){const e=JSON.parse(localStorage.getItem("regularNotes")),t=JSON.parse(localStorage.getItem("pinnedNotes"));(e||[]).forEach(n=>m(n)),(t||[]).forEach(n=>m(n))}const u=()=>{const e=!a.classList.contains("hidden");S.style.display=e?"none":"block"},J=e=>{e.preventDefault(),d.classList.add("hidden"),d.classList.add("hide-on-mobile"),c.classList.add("hidden"),c.classList.remove("show-on-mobile"),a.classList.remove("hidden"),u()},W=e=>{e.preventDefault();const t=!d.classList.contains("hidden");a.classList.add("hidden"),c.classList.add("hidden"),c.classList.remove("show-on-mobile"),a.classList.remove("hide-on-mobile"),t?(d.classList.add("hidden"),d.classList.add("hide-on-mobile")):(d.classList.remove("hidden"),d.classList.remove("hide-on-mobile"),p.classList.remove("hidden")),u()},E=()=>{const e=new Date,t={month:"short",day:"numeric",year:"numeric"};return e.toLocaleDateString("en-US",t)},z=(e,t,n,i=!1,s,o)=>{const r=document.createElement("div");r.classList.add("note-card"),r.setAttribute("tabindex","0"),r.setAttribute("role","button"),r.setAttribute("aria-label",`View note titled ${e}`),i&&r.classList.add("pinned"),r.dataset.id=s;const h=t.length>100?t.substring(0,100)+"...":t;r.innerHTML=`
    <h3 class="note-title">${e}</h3>
    <p class="note-snippet">${h}</p>
    <div class="note-footer">
        <span class="note-date">${o}</span>
        <button class="note-delete" data-id="${s}"> Delete</button>
    </div>
  `;const L=l=>{l.target.classList.contains("note-delete")||(c.innerHTML=H(e,t,n,o),c?.classList.remove("hidden"),window.innerWidth<=768?(d?.classList.add("hide-on-mobile"),a?.classList.add("hide-on-mobile"),c?.classList.add("show-on-mobile")):(c?.classList.remove("show-on-mobile"),d?.classList.remove("hide-on-mobile"),a?.classList.remove("hide-on-mobile")))};return r.addEventListener("click",L),r.addEventListener("keydown",l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),L(l))}),r};function H(e,t,n,i){const s=t.trim().split(" ");if(s.length<2)return t;const o=s.splice(-2).join(" "),r=s.join(" ");return`
        <h2 class="note-title">${e}</h2>
        <div class="note-header">
            <span class="date-write">${i} /</span>
            <span class="name-write">${n}</span>
        </div>
        <div class="content">
            <p class="note-text margin-bottom">
            ${r}
            <span>${o}</span>
        </p>
        </div>
    `}const B=(e=!1)=>{const t=b.value.trim(),n=N.value.trim(),i=w.value.trim();if(!t||!n||!i){alert("Please fill in all the fields!");return}const s={id:Date.now(),title:t,author:n,content:i,isPinned:e,date:E()};F(s),m(s),V(),a.classList.add("hidden"),p.classList.remove("hidden"),u()};function V(){b.value="",N.value="",w.value=""}function m(e){const t=e.date||E(),n=z(e.title,e.content,e.author,e.isPinned,e.id,t);e.isPinned?I.appendChild(n):P.appendChild(n)}function k(e){const t=e.toLowerCase();document.querySelectorAll(".note-card").forEach(i=>{const s=i.querySelector(".note-title")?.textContent.toLowerCase()||"",o=i.querySelector(".note-snippet")?.textContent.toLowerCase()||"";s.includes(t)||o.includes(t)?i.style.display="":i.style.display="none"})}function j(){let e=!1;v.addEventListener("mousedown",()=>{e=!0}),document.addEventListener("mousemove",t=>{if(!e)return;const n=t.clientX;d.style.width=`${n}px`}),document.addEventListener("mouseup",()=>{e=!1}),v.addEventListener("keydown",t=>{const n=document.querySelector(".notes-lists");let i=n.offsetWidth;t.key==="ArrowRight"?n.style.width=i+10+"px":t.key==="ArrowLeft"&&(n.style.width=i-10+"px")})}O.addEventListener("click",()=>{g.classList.toggle("show")});A.addEventListener("click",()=>{g.classList.remove("show")});C.addEventListener("click",J);S.addEventListener("click",()=>{a.classList.remove("hidden"),p.classList.add("hidden"),d.classList.add("hidden"),u()});D.addEventListener("click",W);window.addEventListener("DOMContentLoaded",M);document.addEventListener("click",function(e){if(e.target.classList.contains("note-delete")){const t=e.target.getAttribute("data-id"),n=document.querySelector(`.note-card[data-id='${t}']`);if(n){const s=n.classList.contains("pinned")?"pinnedNotes":"regularNotes";let o=JSON.parse(localStorage.getItem(s))||[];o=o.filter(r=>r.id!=t),localStorage.setItem(s,JSON.stringify(o)),n.remove()}}});$.addEventListener("click",e=>{e.preventDefault(),B(!1)});x.addEventListener("click",e=>{e.preventDefault(),B(!0)});T.addEventListener("input",e=>{k(e.target.value)});q.addEventListener("input",e=>{k(e.target.value)});f.addEventListener("click",()=>{y.classList.toggle("hidden");const e=!y.classList.contains("hidden");f.setAttribute("aria-expaned",e),e&&q.focus()});j();
